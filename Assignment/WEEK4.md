# í†µê³„í•™ 4ì£¼ì°¨ ì •ê·œê³¼ì œ

ğŸ“Œí†µê³„í•™ ì •ê·œê³¼ì œëŠ” ë§¤ì£¼ ì •í•´ì§„ ë¶„ëŸ‰ì˜ ã€*ë°ì´í„° ë¶„ì„ê°€ê°€ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í•  ëª¨ë“  ê²ƒ*ã€ ì„ ì½ê³  í•™ìŠµí•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë²ˆ ì£¼ëŠ” ì•„ë˜ì˜ **Statistics_4th_TIL**ì— ë‚˜ì—´ëœ ë¶„ëŸ‰ì„ ì½ê³  `í•™ìŠµ ëª©í‘œ`ì— ë§ê²Œ ê³µë¶€í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ì•„ë˜ì˜ ë¬¸ì œë¥¼ í’€ì–´ë³´ë©° í•™ìŠµ ë‚´ìš©ì„ ì ê²€í•˜ì„¸ìš”. ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ ê°œë…ì„ ìŠ¤ìŠ¤ë¡œ ì •ë¦¬í•˜ê³ , í•„ìš”í•œ ê²½ìš° ì¶”ê°€ìë£Œì™€ êµì¬ë¥¼ ë‹¤ì‹œ ì°¸ê³ í•˜ì—¬ ë³´ì™„í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

4ì£¼ì°¨ëŠ” `2ë¶€-ë°ì´í„° ë¶„ì„ ì¤€ë¹„í•˜ê¸°`ë¥¼ ì½ê³  ìƒˆë¡­ê²Œ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤


## Statistics_4th_TIL

### 2ë¶€. ë°ì´í„° ë¶„ì„ ì¤€ë¹„í•˜ê¸°

### 10. ë°ì´í„° íƒìƒ‰ê³¼ ì‹œê°í™”

<!-- 10. ë°ì´í„° íƒìƒ‰ê³¼ ì‹œê°í™”ì—ì„œ 10.1 íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ë¶€í„° 10.4 ë¹„êµ ì‹œê°í™” íŒŒíŠ¸ê¹Œì§€ ì§„í–‰í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. -->



**(ìˆ˜í–‰ ì¸ì¦ìƒ·ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.)** 

<!-- ì´ë²ˆì£¼ëŠ” í™•ì¸ ë¬¸ì œê°€ ì—†ê³ , êµì¬ì˜ ì‹¤ìŠµì— ìˆëŠ” ë¶€ë¶„ì„ ë”°ë¼í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. ë°ì´í„°ì…‹ê³¼ ì°¸ê³ ìë£ŒëŠ” ë…¸ì…˜ì˜ ì •ê·œê³¼ì œë€ì— ìˆëŠ” ê¹ƒí—ˆë¸Œë¥¼ í™œìš©í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. -->



## Study ScheduleStudy Schedule

| ì£¼ì°¨  | ê³µë¶€ ë²”ìœ„     | ì™„ë£Œ ì—¬ë¶€ |
| ----- | ------------- | --------- |
| 1ì£¼ì°¨ | 1ë¶€ p.2~46    | âœ…         |
| 2ì£¼ì°¨ | 1ë¶€ p.47~81   | âœ…         |
| 3ì£¼ì°¨ | 2ë¶€ p.82~120  | âœ…         |
| 4ì£¼ì°¨ | 2ë¶€ p.121~167 | âœ…         |
| 5ì£¼ì°¨ | 2ë¶€ p.168~202 | ğŸ½ï¸         |
| 6ì£¼ì°¨ | 3ë¶€ p.203~250 | ğŸ½ï¸         |
| 7ì£¼ì°¨ | 3ë¶€ p.251~299 | ğŸ½ï¸         |

<!-- ì—¬ê¸°ê¹Œì§„ ê·¸ëŒ€ë¡œ ë‘¬ ì£¼ì„¸ìš”-->



---

# 1ï¸âƒ£ ê°œë… ì •ë¦¬ 

## 10. ë°ì´í„° íƒìƒ‰ê³¼ ì‹œê°í™”

```
âœ… í•™ìŠµ ëª©í‘œ :
* EDAì˜ ëª©ì ì„ ì„¤ëª…í•  ìˆ˜ ìˆë‹¤.
* ì£¼ì–´ì§„ ë°ì´í„°ì…‹ì—ì„œ ì´ìƒì¹˜, ëˆ„ë½ê°’, ë¶„í¬ ë“±ì„ ì‹ë³„í•˜ê³  EDA ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë°ì´í„°ì…‹ì˜ íŠ¹ì§•ì„ í•´ì„í•  ìˆ˜ ìˆë‹¤.
* ê³µë¶„ì‚°ê³¼ ìƒê´€ê³„ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ë‘ ë³€ìˆ˜ ê°„ì˜ ê´€ê³„ë¥¼ í•´ì„í•  ìˆ˜ ìˆë‹¤.
* ì ì ˆí•œ ì‹œê°í™” ê¸°ë²•ì„ ì„ íƒí•˜ì—¬ ë°ì´í„°ì˜ íŠ¹ì„±ì„ íš¨ê³¼ì ìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.
```


MLëª¨ë¸ ì„±ëŠ¥: ì•Œê³ ë¦¬ì¦˜ ìš°ìˆ˜ì„± , íŒŒë¼ë¯¸í„° ìµœì í™” << ë°ì´í„° ì˜¬ë°”ë¥´ê²Œ íŒŒì•…, íš¨ê³¼ì ìœ¼ë¡œ ê°€ê³µ

GIGO: ê°€ì¹˜ì—†ëŠ” ì˜ëª»ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ë©´ ì—­ì‹œ ë¬´ê°€ì¹˜í•œ ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤

**EDAì™€ ë°ì´í„° ì‹œê°í™” êµ¬ë³„**

EDA: ë°ì´í„° íŒŒì•…ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì‹œê°í™”
ë°ì´í„° ì‹œê°í™”: ë¶„ì„ ê²°ê³¼ë¥¼ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ í•˜ê¸° ìœ„í•¨


## 10.1 íƒìƒ‰ì  ë°ì´í„° ë¶„ì„(EDA)

EDA: ê°€ê³µí•˜ì§€ ì•Šì€ ì›ì²œì˜ ë°ì´í„°ë¥¼ ìˆëŠ” ê·¸ëŒ€ë¡œ íƒìƒ‰, ë¶„ì„í•˜ëŠ” ê¸°ë²•

!!ì§€ë‚œì¹œ ì¶”ë¡ , ìì˜ì  í•´ì„ ì§€ì–‘

[EDAì˜ ì£¼ìš” ëª©ì ]
- ë°ì´í„°ì˜ í˜•íƒœ, ì²™ë„ê°€ ë¶„ì„ì— ì•Œë§ê²Œ ë˜ì–´ìˆëŠ”ì§€
- ë°ì´í„°ì˜ í‰ê· , ë¶„ì‚°, ë¶„í¬, íŒ¨í„´ ë“±ì˜ í™•ì¸ -> ë°ì´í„° íŠ¹ì„± íŒŒì•…
- ë°ì´í„°ì˜ ê²°ì¸¡ê°’, ì´ìƒì¹˜ íŒŒì•… ë° ë³´ì™„
- ë³€ìˆ˜ ê°„ì˜ ê´€ê³„ì„± íŒŒì•…
- ë¶„ì„ ëª©ì , ë°©í–¥ì„± ì ê²€ ë° ë³´ì •

### 10.1.2.íƒìƒ‰ì  ë°ì´í„° ë¶„ì„ ì‹¤ìŠµ

- pandas: ë°ì´í„° ì „ì²˜ë¦¬
- seaborn, matplotlib: ì‹œê°í™” íŒ¨í‚¤ì§€
- .head()
- .info(): ë°ì´í„°ì— ëŒ€í•œ ì „ë°˜ì ì¸ ì •ë³´
- .describe(): í‰ê· , í‘œì¤€í¸ì°¨, ìµœëŒ€ ìµœì†Ÿê°’ í™•ì¸
    - dateì²˜ëŸ¼ ìˆ«ìì§€ë§Œ ë¬¸ìí˜•ê³¼ ë‹¤ë¦„ ì—†ëŠ” ì¹¼ëŸ¼ì€ ì˜ë¯¸x
- .skew():
    - ì™œë„: ë°ì´í„° ë¶„í¬ì˜ ì¢Œìš° ë¹„ëŒ€ì¹­ë„ (ì¢Œìš°ëŒ€ì¹­ì¼ìˆ˜ë¡ ì™œë„ê°’ ì‘ìŒ)
    - ì •ê·œì„±ì´ í•„ìš”í•œ ê²½ìš° -> ë¡œê·¸ë³€í™˜, ì •ê·œí™” ë“±
    - ë¬¸ìí˜• ë³€ìˆ˜ê°€ ìˆì„ ë•ŒëŠ” ì¶œë ¥ì˜¤ë¥˜ -> ìˆ«ìí˜• ë³€ìˆ˜ë§Œ ë‹´ì€ ì§‘ë‹¨ì„ í•˜ë‚˜ ìƒì„±í•´ì•¼í•¨ 
- .kurtosis() 
    - ì²¨ë„: ë¶„í¬ê°€ ì •ê·œë¶„í¬ë³´ë‹¤ ì–¼ë§ˆë‚˜ ë¾°ì¡±í•˜ê±°ë‚˜ ì™„ë§Œí•œì§€ (ì •ê·œë¶„í¬ë³´ë‹¤ ë¾°ì¡±-> ì–‘ì˜ ì²¨ë„)
    - pandasì—ì„œëŠ” kurt()ë¥¼ ì”€
    - kurtosis()ëŠ” scipyë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ 
- sns.distplot(df["ë³€ìˆ˜"])
    - ì¹¼ëŸ¼ì˜ ë¶„í¬ë¥¼ ì‹œê°í™” 
    - 0ì˜ ê°’ì´ ë§ì€ ê²ƒì´ ê²°ì¸¡ì¹˜ë„ 0ìœ¼ë¡œ í‘œê¸°í•œ ê²ƒì¸ì§€ í™•ì¸ í•„ìš”
- sns.violinplot
- sns.stripplot
    - inner: ë°”ì´ì˜¬ë¦° ì•ˆì— ì¶”ê°€ë¡œ ë­˜ ê·¸ë¦´ê¹Œ?
    - ë°”ì´ì˜¬ë¦° í”Œë¡¯: ë¶„í¬ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í‘œí˜„
    - ìŠ¤íŠ¸ë¦½í”Œë¡¯: ê° ê´€ì¸¡ì¹˜ì˜ ìœ„ì¹˜ë¥¼ ì§ê´€ì ìœ¼ë¡œ í‘œí˜„


## 10.2 ê³µë¶„ì‚°ê³¼ ìƒê´€ì„± ë¶„ì„

íƒ€ê¹ƒë³€ìˆ˜Yì™€ ì…ë ¥ë³€ìˆ˜Xì™€ì˜ ê´€ê³„, ì…ë ¥ë³€ìˆ˜Xë“¤ ê°„ì˜ ê´€ê³„ í™•ì¸

### 10.2.1 ê³µë¶„ì‚°

ìƒê´€ê³„ìˆ˜ì™€ì˜ ê³µí†µì : ê° ë³€ìˆ˜ì˜ ë³€ë™ì´ ì–¼ë§ˆë‚˜ ë‹®ì•˜ëŠ”ì§€ í‘œí˜„

ê³µë¶„ì‚°: ì„œë¡œ ê³µìœ í•˜ëŠ” ë¶„ì‚°, ë‘ ë¶„ì‚°ì˜ ê´€ê³„
ë¶„ì‚°: í•œ ë³€ìˆ˜ì˜ ê°ê°ì˜ ë°ì´í„°ê°€ í¼ì§„ ì •ë„

ê³µë¶„ì‚°=0 ë‘ ë³€ìˆ˜ ìƒê´€ê´€ê³„0
ê³µë¶„ì‚°>0 ì–‘ì˜ ìƒê´€ê´€ê³„
ê³µë¶„ì‚°<0 ìŒì˜ ìƒê´€ê´€ê³„


???ë¶„ì‚° - ê³µë¶„ì‚° ê´€ê³„
ë¶„ì‚°: í•œ ë³€ìˆ˜ì˜ ê°’ì´ í‰ê· ì—ì„œ ì–¼ë§ˆë‚˜ í¼ì ¸ ìˆëŠ”ê°€ (í•œ ë³€ìˆ˜ì˜ í©ì–´ì§ ì •ë„)
ê³µë¶„ì‚°: ë‘ ë³€ìˆ˜ê°€ í•¨ê»˜ ë³€í™”í•˜ëŠ” ì •ë„ (ë‘ ë³€ìˆ˜ì˜ ë°©í–¥ì„± ì¼ì¹˜ ì •ë„)

ë‘ ë³€ìˆ˜ì˜ ë¶„ì‚°ì´ ë¹„ìŠ·í•˜ë‹¤ 
= í©ì–´ì§ì˜ ì •ë„ê°€ ë¹„ìŠ·í•˜ë‹¤ 
!= í•¨ê»˜ ì›€ì§ì¸ë‹¤ 

ex) ì›¹ì‚¬ì´íŠ¸ ì ‘ì†ì‹œê°„, êµ¬ë§¤ë¹„ìš© ê³µë¶„ì‚°

ê° ì›¹ì‚¬ì´íŠ¸ ì ‘ì†ì‹œê°„ í¸ì°¨ * ê° ê³ ê°ì˜ êµ¬ë§¤ë¹„ìš© í¸ì°¨ / n-1 = ê³µë¶„ì‚°

### 10.2.2 ìƒê´€ê³„ìˆ˜

- ê³µë¶„ì‚°ì˜ í•œê³„:
    - ê° ë³€ìˆ˜ ê°„ì˜ ë‹¤ë¥¸ ì²™ë„ê¸°ì¤€ì´ ê·¸ëŒ€ë¡œ ë°˜ì˜
    - ê³µë¶„ì‚° ê°’ì´ ì§€ë‹ˆëŠ” í¬ê¸°ê°€ ìƒê´€ì„±ì˜ ì •ë„ í‘œí˜„x

- ê³µë¶„ì‚° ì •ê·œí™”: ë³€ìˆ˜ ê°ê°ì˜ í‘œì¤€í¸ì°¨ ê°’ìœ¼ë¡œ ë‚˜ëˆ”

- í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜

![alt text](image-4.png)

    - ì ˆëŒ“ê°’ > 0.7ì´ìƒ : ìƒê´€ê´€ê³„ ë§¤ìš° ë†’ìŒ
    - ìƒê´€ê´€ê³„ì— ë”°ë¥¸ í•´ì„í‘œ

    ![alt text](image-21.png)

    - ë°ì´í„° ë¶„í¬ì— ë”°ë¥¸ ìƒê´€ê´€ê³„ ì˜ˆì‹œ

    ![alt text](image-22.png)
    - **ì‚°ì ë„ì˜ ê¸°ìš¸ê¸° || ìƒê´€ê³„ìˆ˜**

    ![alt text](image-23.png)

- ê²°ì •ê³„ìˆ˜: ìƒê´€ê³„ìˆ˜^2
    - ì´ ë³€ë™ ì¤‘ì—ì„œ íšŒê·€ì„ ì— ì˜í•´ ì„¤ëª…ë˜ëŠ” ë³€ë™ì´ ì°¨ì§€í•˜ëŠ” ë¹„ìœ¨
    - í•´ë‹¹ ë…ë¦½ë³€ìˆ˜ê°€ ì¢…ì†ë³€ìˆ˜ì˜ ë³€ë™ì„ ì„¤ëª…í•˜ëŠ” ì •ë„
    - = R^2
    - íšŒê·€ë¶„ì„ì˜ ì •í™•ë„ë¥¼ ê°€ëŠ í•˜ëŠ” ì¤‘ìš”í•œ ê¸°ì¤€ ê°’

- ìƒê´€ë¶„ì„ì˜ í•œê³„
    - 2ì°¨ ë°©ì •ì‹ ê·¸ë˜í”„ì™€ ë¹„ìŠ·í•œ ëª¨ì–‘ì¼ ê²½ìš° ìƒê´€ê³„ìˆ˜ ë§¤ìš° â†“
    - ë”°ë¼ì„œ ì‹œê°í™”ì™€ í•¨ê»˜ í™•ì¸

[ìƒê´€ë¶„ì„í‘œ ]
    ![alt text](image-8.png)
      

![alt text](image-9.png)

- pearsonìƒê´€
- ìœ ì˜í™•ë¥ (ì–‘ì¸¡)
- N: í‘œë³¸ ìˆ˜


### 10.2.3 ê³µë¶„ì‚°ê³¼ ìƒê´€ì„± ë¶„ì„ ì‹¤ìŠµ

*kaggle ì™€ì¸-í’ˆì§ˆ ë°ì´í„°ì…‹ í™œìš©

- sns.set(font_scale=1.1)
    : í°íŠ¸ í¬ê¸° ì„¤ì •
- sns.set_style('ticks')
    : ì¶• ëˆˆê¸ˆ ì„¤ì •
- sns.pairplot(df,
             diag_kind='kde'
                )
    - ìƒê´€ê³„ìˆ˜ê°€ 1ì´ë©´ ë¶„í¬ë¡œ í‘œì‹œ
    - ë™ì¼í•œ ë³€ìˆ˜ì˜ ì‚°ì ë„ë¥¼ ë¶„í¬ë¡œ í‘œí˜„í•´ì£¼ëŠ” ê¸°ëŠ¥ 

- .cov()
    - numeric_df=df.select_dtypes(include=["number"])
    - ìœ„ ì½”ë“œë¥¼ ì¶”ê°€í•´ì„œ ìˆ«ìí˜• ë³€ìˆ˜ë“¤ë§Œ ê³µë¶„ì‚°ì„ ê³„ì‚°í•˜ë„ë¡í•¨ 
    - ê° ë³€ìˆ˜ ê°„ì˜ ë‹¤ë¥¸ ì²™ë„ê¸°ì¤€ì´ ê·¸ëŒ€ë¡œ ë°˜ì˜ -> ì§ê´€ì ìœ¼ë¡œ ìƒê´€ì„± íŒŒì•…x 
-.corr()
    - (method='pearson') ê¸°ë³¸ê°’ì´ í”¼ì–´ìŠ¨ì´ ì•„ë‹ ê²½ìš° ì¶”ê°€í•´ì¤Œ
- sns.heatmeap()
    - í•œëˆˆì— ìƒê´€ê´€ê³„ë¥¼ íŒŒì•… ê°€ëŠ¥
    - but ì •í™•í•œ ìˆ˜ì¹˜x
- sns.cmap()
    - íˆíŠ¸ë§µ + ìƒê´€ê³„ìˆ˜
    - íˆíŠ¸ë§´ì—ì„œ ìƒê´€ì„±ì´ ê°•í•œ ë³€ìˆ˜ë“¤ë¼ë¦¬ ë¬¶ì–´ì„œ í‘œí˜„ 

[ì¤‘ë³µì œê±° íˆíŠ¸ë§µ]
```np.triu(np.ones_like(numeric_df.corr()))

mask = np.triu(np.ones_like(numeric_df.corr(),dtype=np.bool))

fig,ax=plt.subplots(figsize=(11,9))
sns.heatmap(numeric_df.corr(),
               annot=True,
               cmap="viridis",
               vmin=-1,vmax=1,
               mask=mask)
```

## 10.3 ì‹œê°„ ì‹œê°í™”

#### ì„ ê·¸ë˜í”„
- ì‹œê°„ ê°„ê²©ì˜ ë°€ë„ê°€ ë†’ì„ ë•Œ 
- ex) ì´ˆ ë‹¨ìœ„ì˜ ê³µì • ì„¼ì„œ, ì¼ë…„ ê°„ì˜ ì¼ë³„ íŒë§¤ëŸ‰ 
- ë°ì´í„° ì–‘ å¤š , ë³€ë™ ì‹¬í•˜ë©´) íŒ¨í„´ íŒŒì•… ì–´ë ¤ì›€ -> ì¶”ì„¸ì„  ì‚½ì… 
- ì¶”ì„¸ì„  : ì´ë™í‰ê·  ë°©ë²• ì‚¬ìš©
- ex) 2 -> 5 -> 3 -> 7 -> 4
    (2 5 3ì˜ í‰ê· ) -> (5 3 7ì˜ í‰ê· ) -> (3 7 4ì˜ í‰ê· )

    ![alt text](image-10.png)

#### (ëˆ„ì ) ë§‰ëŒ€ ê·¸ë˜í”„
- ë¶„ì ˆí˜• ì‹œê°„ ì‹œê°í™” 
- ex) 1ë…„ ë™ì•ˆì˜ ì›” ê°„ê²© ë‹¨ìœ„ì˜ íë¦„ 
- ëˆ„ì  ë§‰ëŒ€ê·¸ë˜í”„: í•œ ì‹œì ì— 2ê°œ ì´ìƒì˜ ì„¸ë¶€ í•­ëª© æœ‰
- ex) a,b,c í’ˆëª©ì˜ ì›”ë³„ íŒë§¤ëŸ‰ ë°ì´í„° 

![alt text](image-11.png)

### 10.3.1 ì‹œê°„ ì‹œê°í™” í•™ìŠµ

#### ì¼ìë³„ ë§¤ì¶œì•¡ ë°ì´í„° ê°€ê³µ
```df['Date2']=pd.to_datetime(df['Order Date'], dayfirst=True) # date ì¹¼ëŸ¼ ë‚ ì§œ í˜•ì‹ ë³€í™˜

df = df.sort_values(by='Date2') # ë‚ ì§œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬

df['Year'] = df['Date2'].dt.year # ì—°ë„ ì¹¼ëŸ¼ ìƒì„±

df_line=df[df.Year==2018] #2018ë…„ ë°ì´í„°ë§Œ ìƒì„±
df_line=df_line.groupby('Date2')['Sales'].sum().reset_index()
df_line.head()
```
#### ì„ ê·¸ë˜í”„ ì‹œê°í™”

```
# 30ì¼ ì´ë™í‰ê·  ìƒì„±
df_line['Month'] = df_line['Sales'].rolling(window=30).mean()

# ì„ ê·¸ë˜í”„ ì‹œê°í™”
ax = df_line.plot(x='Date2', y='Sales', linewidth="0.5")
df_line.plot(x='Date2', y='Month', color='#FF7F50', linewidth="1", ax=ax)

```
![alt text](image-13.png)


- rolling() : month ì¹¼ëŸ¼ ìƒˆë¡œ ìƒì„± 
- plot() : ì„ ê·¸ë˜í”„ ìƒì„±
- ë§¤ì¶œì•¡ì˜ í¸ì°¨ê°€ í¼ -> ì´ë™í‰ê· ì„  ë„ì›€

#### ë§‰ëŒ€ê·¸ë˜í”„ ì‹œê°í™”ë¥¼ ìœ„í•œ ë°ì´í„° ê°€ê³µ 

```
df_bar_1 = df.groupby('Year')['Sales'].sum().reset_index()

df_bar_1.head()
ax = df_bar_1.plot.bar(x='Year', y='Sales',rot=0)
```

- groupby(): ì—°ë„ë³„ ë§¤ì¶œì•¡ í•©ê³„ 
- rot: ê¸€ìì˜ ê°ë„

### 10.4 ë¹„êµ ì‹œê°í™”

- íˆíŠ¸ë§µ ì°¨íŠ¸
    - ê·¸ë£¹ê³¼ ë¹„êµ ìš”ì†Œê°€ ë§ì„ ë•Œ íš¨ê³¼ì ìœ¼ë¡œ ì‹œê°í™” ê°€ëŠ¥
    - í–‰: ê·¸ë£¹ / ì—´: ìš”ì†Œ
    - í–‰ Aë³€ìˆ˜, ì—´ Bë³€ìˆ˜, ìƒ‰ìƒ C ë³€ìˆ˜

#### íˆíŠ¸ë§µ ì°¨íŠ¸ì˜ í‘œí˜„ ë°©ë²•
1. í•˜ë‚˜ì˜ ë³€ìˆ˜(ê·¸ë£¹) X Nê°œì˜ ê° ë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ê°’ë“¤(ìˆ˜ì¹˜í˜•)

![alt text](image-14.png) ![alt text](image-15.png)

2. í•˜ë‚˜ì˜ ë³€ìˆ˜(ê·¸ë£¹) X í•˜ë‚˜ì˜ ë³€ìˆ˜(ìˆ˜ì¤€)

![alt text](image-16.png) ![alt text](image-17.png)


ìœ ì˜í•  ì : ëª©ì ì„ ì •í™•íˆ íŒŒì•…, ë°ì´í„° ì •ì œ ì‘ì—… ìš”êµ¬


#### ë°©ì‚¬í˜• ì°¨íŠ¸

1. í•˜ë‚˜ì˜ ì°¨íŠ¸ì— í•˜ë‚˜ì˜ ê·¸ë£¹ì„ ì‹œê°í™”

![alt text](image-18.png)

2. í•˜ë‚˜ì˜ ì°¨íŠ¸ì— ëª¨ë“  ê·¸ë£¹ì„ í•œ ë²ˆì— ì‹œê°í™”

![alt text](image-19.png)


#### í‰í–‰ ì¢Œí‘œ ê·¸ë˜í”„

= ì „ëµ ìº”ë²„ìŠ¤

![alt text](image-20.png)

- ë³€ìˆ˜ë³„ ê°’ -> ì •ê·œí™” ; í‰í–‰ ì¢Œí‘œ ê·¸ë˜í”„ íš¨ê³¼ì ìœ¼ë¡œ í‘œí˜„ê°€ëŠ¥

### 10.4.1 ë¹„êµ ì‹œê°í™” ì‹¤ìŠµ

#### íˆíŠ¸ë§µ ì‹œê°í™”ë¥¼ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬

```
df1 = df[df['Tm'].isin(['ATL','BOS','BRK','CHI','CHO'])]

# 6ê°œ ì¹¼ëŸ¼ë§Œ í•„í„°ë§
df1 = df1[['Tm', 'ORB%', 'TRB%', 'AST%', 'BLK%', 'USG%']]

# íŒ€ë³„ ìš”ì†Œ í‰ê·  ì „ì²˜ë¦¬
df1 = df1.groupby('Tm').mean()
```

- 5ê°œì˜ íŒ€ë§Œ í•„í„°ë§
- 5ê°œì˜ ì¹¼ëŸ¼ë§Œ ì„ íƒ
- íŒ€ ë‹¨ìœ„ë¡œ í‰ê· ì„ êµ¬í•œë‹¤ 

#### íŒ€ë³„ 5ê°œ ìš”ì†Œ íˆíŠ¸ë§µ ì‹œê°í™”

```
fig = plt,figure(figsize=(8,8))
fig.set_faceolor('White')
plt.pcolor(df1.values)

plt.xticks(range(len(df1.coloumns)),df1.coloumns)
plt.yticks(range(len(df1.index)),df1.index)

plt.xlabel('Value', fontsize=14)
plt.ylabel('Team', fontsize=14)
plt.colorbar()
plt.show()
```

#### í•˜ë‚˜ì˜ ë³€ìˆ˜ê°’ì— ëŒ€í•œ íˆíŠ¸ë§µ ì‹œê°í™”ë¥¼ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬
```
df2 = df[df['Tm'].isin(['ATL','BOS','BRK','CHI','CHO'])]# 5ê°œ íŒ€ë§Œ í•„í„°ë§/ 

df2 = df2[['Tm','Age','G']]

df2 = df2.groupby(['Tm','Age']).mean().reset_index()

df2 = df2.pivot(index='Tm', columns='Age', values='G')
df2.head()

```

- ê° íŒ€ì—ì„œ ì„ ìˆ˜ë“¤ì˜ ì—°ë ¹ì— ë”°ë¼ ê²½ê¸° ì°¸ì—¬ íšŸìˆ˜ë¥¼ íˆíŠ¸ë§µìœ¼ë¡œ ì‹œê°í™”í•˜ê¸° ìœ„í•œ ì „ì²˜ë¦¬ 
- isin: í•´ë‹¹ ê°’ì´ íŠ¹ì • ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì–´ìˆëŠ”ì§€

#### í•˜ë‚˜ì˜ ë³€ìˆ«ê°’ì— ëŒ€í•œ íˆíŠ¸ë§µ ì‹œê°í™”

```
fig = plt.figure(figsize=(8,8))
fig.set_facecolor('white')

plt.pcolor(df2.values)

plt.xticks(range(len(df2.coloumns)),df2.columns)

plt.yticks(range(len(df2.coloumns)),df2.index)

plt.xlabel('Age', fontsize=14)

plt.ylabel('Team', font=14)
plt.colorbar()
plt.show()

```

- í°ìƒ‰ê³µê°„ì€ NULL

#### ë°©ì‚¬í˜› ì°¨íŠ¸ ì‹œê°í™”ë¥¼ ìœ„í•œ ë°ì´í„° ì „ì²˜ë¦¬
```
df3 = df1.reset_index()

```
- df1ì˜ ê¸°ì¡´ ì¸ë±ìŠ¤ë¥¼ ì¼ë°˜ ì—´ë¡œ ë°”ê¾¸ê³  ìƒˆë¡œìš´ ê¸°ë³¸ ì •ìˆ˜ ì—”ë±ìŠ¤ë¥¼ ë‹¤ì‹œ ë§Œë“¦
- pandasì˜ dataframeì€ í–‰ ë²ˆí˜¸ ì—­í• ì„ í•˜ëŠ” ì¸ë±ìŠ¤ë¥¼ ê°€ì§ 
- groupby, pivotê°™ì€ ì‘ì—…ì„ í•˜ë©´ ì¼ë¶€ ì—´ì´ ì¸ë±ìŠ¤ë¡œ ì„¤ì •
- reset_index()ë¥¼ ì“°ë©´ ì¼ë°˜ ì—´ë¡œ ë¦¬ì…‹ë¨

#### ë°©ì‚¬í˜• ì°¨íŠ¸ ì‹œê°í™”-í•˜ë‚˜ì˜ ì°¨íŠ¸ì— í•˜ë‚˜ì˜ ê·¸ë£¹ì”©

```
# ë°©ì‚¬í˜• ì°¨íŠ¸ - í•˜ë‚˜ì”© ì‹œê°í™”

labels = df3.columns[1:]
num_labels = len(labels)

# ë“±ë¶„ì  ìƒì„±
angles = [x/float(num_labels)*(2*pi) for x in range(num_labels)]
angles += angles[:1]  # ì‹œì‘ì  ìƒì„±

my_palette = plt.cm.get_cmap("Set2", len(df3.index))

fig = plt.figure(figsize=(15,20))
fig.set_facecolor('white')

for i, row in df3.iterrows():
    color = my_palette(i)
    data = df3.iloc[i].drop('Tm').tolist()
    data += data[:1]

    ax = plt.subplot(3,2,i+1, polar=True)

    # ì‹œì‘ì  ì„¤ì •
    ax.set_theta_offset(pi / 2)
    # ì‹œê³„ë°©í–¥ ì„¤ì •
    ax.set_theta_direction(-1)

    plt.xticks(angles[:-1], labels, fontsize=13)
    # ê° ì¶•ê³¼ ëˆˆê¸ˆ ì‚¬ì´ ì—¬ë°± ìƒì„±
    ax.tick_params(axis='x', which='major', pad=15)
    # ë°˜ì§€ë¦„ ì¶• ëˆˆê¸ˆ ë¼ë²¨ ê°ë„ 0ìœ¼ë¡œ ì„¤ì •
    ax.set_rlabel_position(0)
    # ë°˜ì§€ë¦„ ì¶• ëˆˆê¸ˆ ì„¤ì •
    plt.yticks([0,5,10,15,20], ['0','5','10','15','20'], fontsize=10)
    plt.ylim(0,20)

    # ë°©ì‚¬í˜• ì°¨íŠ¸ ì¶œë ¥
    ax.plot(angles, data, color=color, linewidth=2, linestyle='solid')
    # ë„í˜• ì•ˆìª½ ìƒ‰ìƒ ì„¤ì •
    ax.fill(angles, data, color=color, alpha=0.4)
    # ê° ì°¨íŠ¸ì˜ ì œëª© ìƒì„±
    ax.title(row.Tm, size=20, color=color, x=-0.2, y=1.2, ha='left')

# ì°¨íŠ¸ ê°„ ê°„ê²© ì„¤ì •
plt.tight_layout(pad=3)
plt.show()

```
- for ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ê°ê°ì˜ ê·¸ë˜í”„ë¥¼ ë§Œë“¤ë„ë¡í•¨

#### ë°©ì‚¬í˜• ì°¨íŠ¸ ì‹œê°í™”-í•˜ë‚˜ì˜ ì°¨íŠ¸ì— ëª¨ë“  ê·¸ë£¹
```
# ë°©ì‚¬í˜• ì°¨íŠ¸ - í•œ ë²ˆì— ì‹œê°í™”

labels = df3.columns[1:]
num_labels = len(labels)

# ë“±ë¶„ì  ìƒì„±
angles = [x/float(num_labels)*(2*pi) for x in range(num_labels)]
# ì‹œì‘ì  ìƒì„±
angles += angles[:1]

my_palette = plt.cm.get_cmap("Set2", len(df3.index))

fig = plt.figure(figsize=(8,8))
fig.set_facecolor('white')
ax = fig.add_subplot(polar=True)

for i, row in df3.iterrows():
    color = my_palette(i)
    data = df3.iloc[i].drop('Tm').tolist()
    data += data[:1]

    # ì‹œì‘ì  ì„¤ì •
    ax.set_theta_offset(pi / 2)
    # ì‹œê³„ë°©í–¥ ì„¤ì •
    ax.set_theta_direction(-1)

    # ê°ë„ ì¶• ëˆˆê¸ˆ ìƒì„±
    plt.xticks(angles[:-1], labels, fontsize=13)
    # ê° ì¶•ê³¼ ëˆˆê¸ˆ ì‚¬ì´ ì—¬ë°± ìƒì„±
    ax.tick_params(axis='x', which='major', pad=15)
    # ë°˜ì§€ë¦„ ì¶• ëˆˆê¸ˆ ë¼ë²¨ ê°ë„ 0ìœ¼ë¡œ ì„¤ì •
    ax.set_rlabel_position(0)
    # ë°˜ì§€ë¦„ ì¶• ëˆˆê¸ˆ ì„¤ì •
    plt.yticks([0,5,10,15,20], ['0','5','10','15','20'], fontsize=10)
    plt.ylim(0,20)

    # ë°©ì‚¬í˜• ì°¨íŠ¸ ì¶œë ¥
    ax.plot(angles, data, color=color, linewidth=2, linestyle='solid', label=row.Tm)
    # ë„í˜• ì•ˆìª½ ìƒ‰ìƒ ì„¤ì •
    ax.fill(angles, data, color=color, alpha=0.4)

plt.legend(loc=(0.9,0.9))
plt.show()

```

- ê·¸ë£¹ì´ ë§ì§€ ì•Šì€ ê²½ìš°ì— ìœ„ì™€ ê°™ì´ ë¹„êµí•˜ëŠ” ê²ƒì´ ë” ì¢‹ìŒ


#### í‰í–‰ ì¢Œí‘œ ê·¸ë˜í”„ ì‹œê°í™”

```
fig,axes=plt.subplot()
plt.figure(figsize=(16,8))
parallel_coordinates(df3,'Tm',ax=axes,colormap='winter',Linewidth="0.5")

```

- ë°©ì‚¬í˜• ì°¨íŠ¸ë¥¼ ê¸¸ê²Œ í‘œí˜„í•œ ê²ƒ

<br>
<br>

---

# 2ï¸âƒ£ í™•ì¸ ê³¼ì œ

> **êµì¬ì— ìˆëŠ” ì‹¤ìŠµ íŒŒíŠ¸ë¥¼ ì§ì ‘ ë”°ë¼ í•´ë³´ì„¸ìš”. ì‹¤ìŠµì„ ì™„ë£Œí•œ ë’¤, ê²°ê³¼í™”ë©´(ìº¡ì²˜ ë˜ëŠ” ì½”ë“œ ê²°ê³¼)ì„ ì²¨ë¶€í•˜ì—¬ ì¸ì¦í•´ ì£¼ì„¸ìš”.ë‹¨ìˆœ ì´ë¡  ì•”ê¸°ë³´ë‹¤, ì§ì ‘ ì†ìœ¼ë¡œ ë”°ë¼í•´ë³´ë©´ì„œ ì‹¤ìŠµí•´ ë³´ëŠ” ê²ƒì´ ê°€ì¥ í™•ì‹¤í•œ í•™ìŠµ ë°©ë²•ì…ë‹ˆë‹¤.**
>
> > **ì¸ì¦ ì˜ˆì‹œ : í†µê³„ í”„ë¡œê·¸ë¨ ê²°ê³¼, ì‹œê°í™” ì´ë¯¸ì§€ ìº¡ì²˜ ë“±**

![alt text](image-3.png)
https://colab.research.google.com/drive/1rARBlayzwf5liR6jVdpYiTvo0WvHIv0z#scrollTo=fqQeodW0i6dZ

~~~
ì¸ì¦ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ ê³¼ì œ ìˆ˜í–‰ìœ¼ë¡œ ì¸ì •ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
~~~





### ğŸ‰ ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.